Library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;

Entity cont_10 is -- atualizado 30/06/21
   PORT(RST  : in std_logic;               -- SW3  PIN
        CLK  : in std_logic;               -- PIN N2
        Q    : out std_logic_vector(3 downto 0);   -- -> LED0 AE23
		                                     -- -> LED1 AF23
        EN   : in std_logic;               --PIN
        CLR  : in std_logic               --PIN N25
        --LD   : in std_logic;               -- SW1  PIN 
        --LOAD : in unsigned (3 downto 0));
		  );
end entity;


Architecture cont_10_arch of cont_10 is

component cont4_completo is
   PORT(RST  : in std_logic; --Sw3
        CLK  : in std_logic; -- Pin N2
        Q    : out std_logic_vector(3 downto 0);  -- Q    : out unsigned(3 downto 0); --Q(3) -> LEDR0 AE23 Q(2) -> LEDR1 AF23
        Q_s  : out std_logic_vector(3 downto 0);
        EN   : in std_logic; --sw2
        CLR  : in std_logic; -- Sw0 Pin N25
        LD   : in std_logic; --sw1
        LOAD : in std_logic_vector (3 downto 0));
end component;

signal Q_aux : std_logic_vector (3 downto 0);
signal VDD, GND : std_logic;
signal clear_9 : std_logic;
signal CLR_aux : std_logic;
signal GND_VEC : std_logic_vector (3 downto 0);

Begin

VDD <= '1';
GND <= '0';
GND_VEC <= "0000";

cont16 : Cont4_completo
   PORT map (RST  => RST ,
             CLK  => CLK ,
             Q    => Q_aux,
				 EN   => EN,
             CLR  => CLR_aux,
             LD   => GND, 
             LOAD => GND_VEC);
			 
			 

--Q <= Q_aux;
              --Q(3)      Q(2)      Q(1)          Q(0) 
              --1         0         0             1
--clear_9 <=    Q_aux(3) AND (NOT Q_aux(2)) AND (NOT Q_aux(1)) AND Q_aux(0);
			
--CLR_35 <= '1' when (dezena = "0011" and unidade = x"4");			
				  ----
--clear_9 <= '1' when (Q_aux = x"0" or Q_aux = x"1") else
--            '0'   when (Q_aux = x"F") else '0';				  
clear_9 <= '1' when (Q_aux = x"9") else '0';				  
CLR_aux <= clear_9 OR CLR;				  
Q <= Q_aux;
End architecture;




--Info (10041): Inferred latch for "clear_9" 
--at cont_10.vhd(62)
